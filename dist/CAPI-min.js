/**
 * almond 0.2.6 Copyright (c) 2011-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/*!
 *
 * Copyright 2009-2012 Kris Kowal under the terms of the MIT
 * license found at http://github.com/kriskowal/q/raw/master/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */

(function(e,t){typeof define=="function"&&define.amd?define(t):e.libGlobalName=t()})(this,function(){var e,t,n;(function(r){function d(e,t){return h.call(e,t)}function v(e,t){var n,r,i,s,o,u,a,f,c,h,p=t&&t.split("/"),d=l.map,v=d&&d["*"]||{};if(e&&e.charAt(0)===".")if(t){p=p.slice(0,p.length-1),e=p.concat(e.split("/"));for(f=0;f<e.length;f+=1){h=e[f];if(h===".")e.splice(f,1),f-=1;else if(h===".."){if(f===1&&(e[2]===".."||e[0]===".."))break;f>0&&(e.splice(f-1,2),f-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((p||v)&&d){n=e.split("/");for(f=n.length;f>0;f-=1){r=n.slice(0,f).join("/");if(p)for(c=p.length;c>0;c-=1){i=d[p.slice(0,c).join("/")];if(i){i=i[r];if(i){s=i,o=f;break}}}if(s)break;!u&&v&&v[r]&&(u=v[r],a=f)}!s&&u&&(s=u,o=a),s&&(n.splice(0,o,s),e=n.join("/"))}return e}function m(e,t){return function(){return s.apply(r,p.call(arguments,0).concat([e,t]))}}function g(e){return function(t){return v(t,e)}}function y(e){return function(t){a[e]=t}}function b(e){if(d(f,e)){var t=f[e];delete f[e],c[e]=!0,i.apply(r,t)}if(!d(a,e)&&!d(c,e))throw new Error("No "+e);return a[e]}function w(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function E(e){return function(){return l&&l.config&&l.config[e]||{}}}var i,s,o,u,a={},f={},l={},c={},h=Object.prototype.hasOwnProperty,p=[].slice;o=function(e,t){var n,r=w(e),i=r[0];return e=r[1],i&&(i=v(i,t),n=b(i)),i?n&&n.normalize?e=n.normalize(e,g(t)):e=v(e,t):(e=v(e,t),r=w(e),i=r[0],e=r[1],i&&(n=b(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},u={require:function(e){return m(e)},exports:function(e){var t=a[e];return typeof t!="undefined"?t:a[e]={}},module:function(e){return{id:e,uri:"",exports:a[e],config:E(e)}}},i=function(e,t,n,i){var s,l,h,p,v,g=[],w;i=i||e;if(typeof n=="function"){t=!t.length&&n.length?["require","exports","module"]:t;for(v=0;v<t.length;v+=1){p=o(t[v],i),l=p.f;if(l==="require")g[v]=u.require(e);else if(l==="exports")g[v]=u.exports(e),w=!0;else if(l==="module")s=g[v]=u.module(e);else if(d(a,l)||d(f,l)||d(c,l))g[v]=b(l);else{if(!p.p)throw new Error(e+" missing "+l);p.p.load(p.n,m(i,!0),y(l),{}),g[v]=a[l]}}h=n.apply(a[e],g);if(e)if(s&&s.exports!==r&&s.exports!==a[e])a[e]=s.exports;else if(h!==r||!w)a[e]=h}else e&&(a[e]=n)},e=t=s=function(e,t,n,a,f){return typeof e=="string"?u[e]?u[e](t):b(o(e,t).f):(e.splice||(l=e,t.splice?(e=t,t=n,n=null):e=r),t=t||function(){},typeof n=="function"&&(n=a,a=f),a?i(r,e,t,n):setTimeout(function(){i(r,e,t,n)},4),s)},s.config=function(e){return l=e,l.deps&&s(l.deps,l.callback),s},e._defined=a,n=function(e,t,n){t.splice||(n=t,t=[]),!d(a,e)&&!d(f,e)&&(f[e]=[e,t,n])},n.amd={jQuery:!0}})(),n("almond",function(){}),n("structures/CAPIError",[],function(){var e=function(e,t){this.name="CAPIError",this.message=e,this.additionalInfo=t};return e.prototype=new Error,e.prototype.constructor=e,e}),n("authAgents/SessionAuthAgent",["structures/CAPIError"],function(e){var t=function(e){this._CAPI=null,this._login=e.login,this._password=e.password,this.sessionName=sessionStorage.getItem("ezpRestClient.sessionName"),this.sessionId=sessionStorage.getItem("ezpRestClient.sessionId"),this.csrfToken=sessionStorage.getItem("ezpRestClient.csrfToken")};return t.prototype.ensureAuthentication=function(t){if(this.sessionId===null){var n=this,r=this._CAPI.getUserService(),i=r.newSessionCreateStruct(this._login,this._password);r.createSession("/api/ezp/v2/user/sessions",i,function(r,s){if(!r){var o=JSON.parse(s.body).Session;n.sessionName=o.name,n.sessionId=o._href,n.csrfToken=o.csrfToken,sessionStorage.setItem("ezpRestClient.sessionName",n.sessionName),sessionStorage.setItem("ezpRestClient.sessionId",n.sessionId),sessionStorage.setItem("ezpRestClient.csrfToken",n.csrfToken),t(!1,!0)}else t(new e("Failed to create new session.",{sessionCreateStruct:i}),!1)})}else t(!1,!0)},t.prototype.authenticateRequest=function(e,t){e.method!=="GET"&&e.method!=="HEAD"&&e.method!=="OPTIONS"&&e.method!=="TRACE"&&(e.headers["X-CSRF-Token"]=this.csrfToken),t(!1,e)},t.prototype.logOut=function(e){var t=this._CAPI.getUserService(),n=this;t.deleteSession(this.sessionId,function(t,r){t?e(!0,!1):(n.sessionName=null,n.sessionId=null,n.csrfToken=null,sessionStorage.removeItem("ezpRestClient.sessionName"),sessionStorage.removeItem("ezpRestClient.sessionId"),sessionStorage.removeItem("ezpRestClient.csrfToken"),e(!1,!0))})},t.prototype.setCAPI=function(e){this._CAPI=e},t}),n("authAgents/HttpBasicAuthAgent",[],function(){var e=function(e){this._login=e.login,this._password=e.password};return e.prototype.ensureAuthentication=function(e){e(!1,!0)},e.prototype.authenticateRequest=function(e,t){e.httpBasicAuth=!0,e.login=this._login,e.password=this._password,t(!1,e)},e.prototype.logOut=function(e){e(!1,!0)},e.prototype.setCAPI=function(e){},e}),n("structures/Response",[],function(){var e=function(e){this.body="",this.document=null;for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);return this.body&&(this.document=JSON.parse(this.body)),this};return e}),n("structures/Request",[],function(){var e=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);return this};return e}),n("ConnectionManager",["structures/Response","structures/Request","structures/CAPIError"],function(e,t,n){var r=function(e,t,n){this._endPointUrl=e,this._authenticationAgent=t,this._connectionFactory=n,this._requestsQueue=[],this._authInProgress=!1,this.logRequests=!1};return r.prototype.request=function(e,r,i,s,o){var u=this,a,f,l="GET",c="/",h="",p={};arguments.length<5&&(typeof e=="function"?(o=e,e=l,r=c,i=h,s=p):typeof r=="function"?(o=r,r=c,i=h,s=p):typeof i=="function"?(o=i,i=h,s=p):(o=s,s=p)),a=new t({method:e,url:this._endPointUrl+r,body:i,headers:s}),this._requestsQueue.push(a);if(!this._authInProgress||this._requestsQueue.length===1)this._authInProgress=!0,this._authenticationAgent.ensureAuthentication(function(e,t){if(!e){u._authInProgress=!1;while(f=u._requestsQueue.shift())u._authenticationAgent.authenticateRequest(f,function(e,t){e?o(new n("An error occurred during request authentication.",{request:f}),!1):(u.logRequests&&console.dir(a),u._connectionFactory.createConnection().execute(t,o))})}else u._authInProgress=!1,o(e,!1)})},r.prototype.notAuthorizedRequest=function(e,n,r,i,s){var o,u="GET",a="/",f="",l={};arguments.length<5&&(typeof e=="function"?(s=e,e=u,n=a,r=f,i=l):typeof n=="function"?(s=n,n=a,r=f,i=l):typeof r=="function"?(s=r,r=f,i=l):(s=i,i=l)),o=new t({method:e,url:this._endPointUrl+n,body:r,headers:i}),this.logRequests&&console.dir(o),this._connectionFactory.createConnection().execute(o,s)},r.prototype.delete=function(e,t){e=typeof e=="undefined"?"/":e,t=typeof t=="undefined"?function(){}:t,this.request("DELETE",e,"",{},t)},r.prototype.logOut=function(e){this._authenticationAgent.logOut(e)},r}),n("ConnectionFeatureFactory",[],function(){var e=function(e){this.connectionList=e,this.defaultFactory=function(e){return new e}};return e.prototype.createConnection=function(){var e=null,t=0;for(t=0;t<this.connectionList.length;++t)if(this.connectionList[t].connection.isCompatible()){this.connectionList[t].factory?e=this.connectionList[t].factory(this.connectionList[t].connection):e=this.defaultFactory(this.connectionList[t].connection);break}return e},e}),n("connections/XmlHttpRequestConnection",["structures/Response","structures/CAPIError"],function(e,t){var n=function(){this._xhr=new XMLHttpRequest,this.execute=function(n,r){var i=this._xhr,s;i.onreadystatechange=function(){if(i.readyState!=4)return;if(i.status>=400){r(new t("Connection error : "+i.status+".",{errorCode:i.status,xhr:i}),!1);return}r(!1,new e({status:i.status,headers:i.getAllResponseHeaders(),body:i.responseText}))},n.httpBasicAuth?i.open(n.method,n.url,!0,n.login,n.password):i.open(n.method,n.url,!0);for(s in n.headers)n.headers.hasOwnProperty(s)&&i.setRequestHeader(s,n.headers[s]);i.send(n.body)}};return n.isCompatible=function(){return!!window.XMLHttpRequest},n}),n("connections/MicrosoftXmlHttpRequestConnection",["structures/Response","structures/CAPIError"],function(e,t){var n=function(){this._xhr=new ActiveXObject("Microsoft.XMLHTTP"),this.execute=function(n,r){var i=this._xhr,s;i.onreadystatechange=function(){if(i.readyState!=4)return;if(i.status>=400){r(new t("Connection error : "+i.status+".",{errorCode:i.status,xhr:i}),!1);return}r(!1,new e({status:i.status,headers:i.getAllResponseHeaders(),body:i.responseText}))},n.httpBasicAuth?i.open(n.method,n.url,!0,n.login,n.password):i.open(n.method,n.url,!0);for(s in n.headers)n.headers.hasOwnProperty(s)&&i.setRequestHeader(s,n.headers[s]);i.send(n.body)}};return n.isCompatible=function(){return!!window.ActiveXObject},n}),n("services/DiscoveryService",["structures/CAPIError"],function(e){var t=function(t,n){this.connectionManager=n,this.rootPath=t,this.cacheObject={},this.discoverRoot=function(t,n){if(!this.cacheObject.Root){var r=this;this.connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.Root+json"},function(i,s){i?n(new e("Discover service failed to retrieve root object.",{rootPath:t}),!1):(r.copyToCache(s.document),n(!1,!0))})}else n(!1,!0)},this.copyToCache=function(e){for(var t in e)e.hasOwnProperty(t)&&(this.cacheObject[t]=e[t])},this.getObjectFromCache=function(t,n){var r=null,i=this;if(!this.cacheObject.Root){this.discoverRoot(this.rootPath,function(){i.getObjectFromCache(t,n)});return}this.cacheObject.Root.hasOwnProperty(t)?r=this.cacheObject.Root[t]:this.cacheObject.hasOwnProperty(t)&&(r=this.cacheObject[t]),r?n(!1,r):n(new e("Discover service failed to find cached object with name '"+t+"'.",{name:t}),!1)}};return t.prototype.getUrl=function(t,n){this.getObjectFromCache(t,function(r,i){r?n(r,!1):i?n(!1,i._href):n(new e("Broken cached object returned when searching for '"+t+"'.",{name:t}),!1)})},t.prototype.getMediaType=function(t,n){this.getObjectFromCache(t,function(r,i){r?n(r,!1):i?n(!1,i["_media-type"]):n(new e("Broken cached object returned when searching for '"+t+"'.",{name:t}),!1)})},t.prototype.getInfoObject=function(t,n){this.getObjectFromCache(t,function(r,i){r?n(r,!1):i?n(!1,i):n(new e("Broken cached object returned when searching for '"+t+"'.",{name:t}),!1)})},t}),n("structures/ContentCreateStruct",[],function(){var e=function(e,t,n){var r=JSON.parse(JSON.stringify(new Date));return this.body={},this.body.ContentCreate={},this.body.ContentCreate.ContentType={_href:e},this.body.ContentCreate.mainLanguageCode=n,this.body.ContentCreate.LocationCreate=t.body.LocationCreate,this.body.ContentCreate.Section=null,this.body.ContentCreate.alwaysAvailable="true",this.body.ContentCreate.remoteId=null,this.body.ContentCreate.modificationDate=r,this.body.ContentCreate.fields={},this.body.ContentCreate.fields.field=[],this.headers={Accept:"application/vnd.ez.api.Content+json","Content-Type":"application/vnd.ez.api.ContentCreate+json"},this};return e}),n("structures/ContentUpdateStruct",[],function(){var e=function(e){var t=JSON.parse(JSON.stringify(new Date));return this.body={},this.body.VersionUpdate={},this.body.VersionUpdate.modificationDate=t,this.body.VersionUpdate.initialLanguageCode=e,this.body.VersionUpdate.fields={field:[]},this.headers={Accept:"application/vnd.ez.api.Version+json","Content-Type":"application/vnd.ez.api.VersionUpdate+json"},this};return e}),n("structures/SectionInputStruct",[],function(){var e=function(e,t){return this.body={},this.body.SectionInput={},this.body.SectionInput.identifier=e,this.body.SectionInput.name=t,this.headers={},this.headers.Accept="application/vnd.ez.api.Section+json",this.headers["Content-Type"]="application/vnd.ez.api.SectionInput+json",this};return e}),n("structures/LocationCreateStruct",[],function(){var e=function(e){return this.body={},this.body.LocationCreate={},this.body.LocationCreate.ParentLocation={_href:e},this.body.LocationCreate.sortField="PATH",this.body.LocationCreate.sortOrder="ASC",this.headers={Accept:"application/vnd.ez.api.Location+json","Content-Type":"application/vnd.ez.api.LocationCreate+json"},this};return e}),n("structures/LocationUpdateStruct",[],function(){var e=function(){return this.body={},this.body.LocationUpdate={},this.body.LocationUpdate.sortField="PATH",this.body.LocationUpdate.sortOrder="ASC",this.headers={Accept:"application/vnd.ez.api.Location+json","Content-Type":"application/vnd.ez.api.LocationUpdate+json"},this};return e}),n("structures/ContentMetadataUpdateStruct",[],function(){var e=function(e){var t=JSON.parse(JSON.stringify(new Date));return this.body={},this.body.ContentUpdate={},this.body.ContentUpdate.MainLanguageCode=e,this.body.ContentUpdate.Section=null,this.body.ContentUpdate.alwaysAvailable="true",this.body.ContentUpdate.remoteId=null,this.body.ContentUpdate.modificationDate=t,this.body.ContentUpdate.publishDate=null,this.headers={Accept:"application/vnd.ez.api.ContentInfo+json","Content-Type":"application/vnd.ez.api.ContentUpdate+json"},this};return e}),n("structures/ObjectStateGroupCreateStruct",[],function(){var e=function(e,t,n){return this.body={},this.body.ObjectStateGroupCreate={},this.body.ObjectStateGroupCreate.identifier=e,this.body.ObjectStateGroupCreate.defaultLanguageCode=t,this.body.ObjectStateGroupCreate.names={},this.body.ObjectStateGroupCreate.names.value=n,this.body.ObjectStateGroupCreate.descriptions={},this.body.ObjectStateGroupCreate.descriptions.value=[],this.headers={},this.headers.Accept="application/vnd.ez.api.ObjectStateGroup+json",this.headers["Content-Type"]="application/vnd.ez.api.ObjectStateGroupCreate+json",this};return e}),n("structures/ObjectStateGroupUpdateStruct",[],function(){var e=function(){return this.body={},this.body.ObjectStateGroupUpdate={},this.headers={},this.headers.Accept="application/vnd.ez.api.ObjectStateGroup+json",this.headers["Content-Type"]="application/vnd.ez.api.ObjectStateGroupUpdate+json",this};return e}),n("structures/ObjectStateCreateStruct",[],function(){var e=function(e,t,n,r,i){return this.body={},this.body.ObjectStateCreate={},this.body.ObjectStateCreate.identifier=e,this.body.ObjectStateCreate.defaultLanguageCode=t,this.body.ObjectStateCreate.priority=n,this.body.ObjectStateCreate.names={},this.body.ObjectStateCreate.names.value=r,this.body.ObjectStateCreate.descriptions={},this.body.ObjectStateCreate.descriptions.value=i,this.headers={},this.headers.Accept="application/vnd.ez.api.ObjectState+json",this.headers["Content-Type"]="application/vnd.ez.api.ObjectStateCreate+json",this};return e}),n("structures/ObjectStateUpdateStruct",[],function(){var e=function(){return this.body={},this.body.ObjectStateUpdate={},this.headers={},this.headers.Accept="application/vnd.ez.api.ObjectState+json",this.headers["Content-Type"]="application/vnd.ez.api.ObjectStateUpdate+json",this};return e}),n("structures/ViewCreateStruct",[],function(){var e=function(e){return this.body={},this.body.ViewInput={},this.body.ViewInput.identifier=e,this.body.ViewInput.public=!1,this.body.ViewInput.Query={},this.body.ViewInput.Query.Criteria={},this.body.ViewInput.Query.offset=0,this.body.ViewInput.Query.FacetBuilders={},this.body.ViewInput.Query.SortClauses={},this.body.ViewInput.Query.spellcheck=!1,this.headers={Accept:"application/vnd.ez.api.View+json","Content-Type":"application/vnd.ez.api.ViewInput+json"},this};return e}),n("structures/UrlAliasCreateStruct",[],function(){var e=function(e,t,n){return this.body={},this.body.UrlAliasCreate={},this.body.UrlAliasCreate._type="RESOURCE",this.body.UrlAliasCreate.resource=t,this.body.UrlAliasCreate.path=n,this.body.UrlAliasCreate.alwaysAvailable="false",this.body.UrlAliasCreate.forward="false",this.body.UrlAliasCreate.languageCode=e,this.headers={},this.headers.Accept="application/vnd.ez.api.UrlAlias+json",this.headers["Content-Type"]="application/vnd.ez.api.UrlAliasCreate+json",this};return e}),n("structures/UrlWildcardCreateStruct",[],function(){var e=function(e,t,n){return this.body={},this.body.UrlWildcardCreate={},this.body.UrlWildcardCreate.sourceUrl=e,this.body.UrlWildcardCreate.destinationUrl=t,this.body.UrlWildcardCreate.forward=n,this.headers={},this.headers.Accept="application/vnd.ez.api.UrlWildcard+json",this.headers["Content-Type"]="application/vnd.ez.api.UrlWildcardCreate+json",this};return e}),n("structures/RelationCreateStruct",[],function(){var e=function(e){return this.body={},this.body.RelationCreate={},this.body.RelationCreate.Destination={_href:e},this.headers={},this.headers.Accept="application/vnd.ez.api.Relation+json",this.headers["Content-Type"]="application/vnd.ez.api.RelationCreate+json",this};return e}),n("services/ContentService",["structures/ContentCreateStruct","structures/ContentUpdateStruct","structures/SectionInputStruct","structures/LocationCreateStruct","structures/LocationUpdateStruct","structures/ContentMetadataUpdateStruct","structures/ObjectStateGroupCreateStruct","structures/ObjectStateGroupUpdateStruct","structures/ObjectStateCreateStruct","structures/ObjectStateUpdateStruct","structures/ViewCreateStruct","structures/UrlAliasCreateStruct","structures/UrlWildcardCreateStruct","structures/RelationCreateStruct"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p){var d=function(e,t){this._connectionManager=e,this._discoveryService=t};return d.prototype.loadRoot=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.Root+json"},n)},d.prototype.newContentUpdateStruct=function(n){return new t(n)},d.prototype.newContentMetadataUpdateStruct=function(t){return new s(t)},d.prototype.newContentCreateStruct=function(n,r,i){return new e(n,r,i)},d.prototype.newSectionInputStruct=function(t,r){return new n(t,r)},d.prototype.newLocationCreateStruct=function(t){return new r(t)},d.prototype.newLocationUpdateStruct=function(){return new i},d.prototype.newViewCreateStruct=function(t){return new l(t)},d.prototype.newRelationCreateStruct=function(t){return new p(t)},d.prototype.newObjectStateGroupCreateStruct=function(t,n,r){return new o(t,n,r)},d.prototype.newObjectStateGroupUpdateStruct=function(){return new u},d.prototype.newObjectStateCreateStruct=function(e,t,n,r,i){return new a(e,t,n,r,i)},d.prototype.newObjectStateUpdateStruct=function(){return new f},d.prototype.newUrlAliasCreateStruct=function(t,n,r){return new c(t,n,r)},d.prototype.newUrlWildcardCreateStruct=function(t,n,r){return new h(t,n,r)},d.prototype.createSection=function(t,n){var r=this;this._discoveryService.getInfoObject("sections",function(e,i){e?n(e,!1):r._connectionManager.request("POST",i._href,JSON.stringify(t.body),t.headers,n)})},d.prototype.updateSection=function(t,n,r){this._connectionManager.request("PATCH",t,JSON.stringify(n.body),n.headers,r)},d.prototype.loadSections=function(t){var n=this;this._discoveryService.getInfoObject("sections",function(e,r){e?t(e,!1):n._connectionManager.request("GET",r._href,"",{Accept:r["_media-type"]},t)})},d.prototype.loadSection=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.Section+json"},n)},d.prototype.deleteSection=function(t,n){this._connectionManager.delete(t,n)},d.prototype.createContent=function(t,n){var r=this;this._discoveryService.getInfoObject("content",function(e,i){e?n(e,!1):r._connectionManager.request("POST",i._href,JSON.stringify(t.body),t.headers,n)})},d.prototype.updateContentMetadata=function(t,n,r){this._connectionManager.request("PATCH",t,JSON.stringify(n.body),n.headers,r)},d.prototype.loadContentByRemoteId=function(t,n){var r=this;this._discoveryService.getInfoObject("content",function(e,i){e?n(e,!1):r._connectionManager.request("GET",i._href+"?remoteId="+t,"",{Accept:i["_media-type"]},n)})},d.prototype.loadContentInfo=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.ContentInfo+json"},n)},d.prototype.loadContentInfoAndCurrentVersion=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.Content+json"},n)},d.prototype.deleteContent=function(t,n){this._connectionManager.delete(t,n)},d.prototype.copyContent=function(t,n,r){this._connectionManager.request("COPY",t,"",{Destination:n},r)},d.prototype.loadCurrentVersion=function(t,n){var r=this;this.loadContentInfo(t,function(e,t){if(!e){var i=t.document.Content.CurrentVersion;r._connectionManager.request("GET",i._href,"",{Accept:i["_media-type"]},n)}else n(e,!1)})},d.prototype.loadContent=function(t,n,r,i,s){var o="",u="",a="";arguments.length<5&&(typeof n=="function"?(s=n,n=o,r=u,i=a):typeof r=="function"?(s=r,r=u,i=a):(s=i,i=a)),n&&(n="?fields="+n),r&&(r='&responseGroups="'+r+'"'),i&&(i="&languages="+i),this._connectionManager.request("GET",t+n+r+i,"",{Accept:"application/vnd.ez.api.Version+json"},s)},d.prototype.loadVersions=function(t,n){var r=this;this.loadContentInfo(t,function(e,t){if(!e){var i=t.document.Content.Versions;r._connectionManager.request("GET",i._href,"",{Accept:i["_media-type"]},n)}else n(e,!1)})},d.prototype.updateContent=function(t,n,r){this._connectionManager.request("PATCH",t,JSON.stringify(n.body),n.headers,r)},d.prototype.createContentDraft=function(t,n,r){var i=this;this.loadContentInfo(t,function(e,t){var s="";e?r(e,!1):(typeof n!="function"?s=t.document.Content.Versions._href+"/"+n:(r=n,s=t.document.Content.CurrentVersion._href),i._connectionManager.request("COPY",s,"",{Accept:"application/vnd.ez.api.Version+json"},r))})},d.prototype.deleteVersion=function(t,n){this._connectionManager.delete(t,n)},d.prototype.publishVersion=function(t,n){this._connectionManager.request("PUBLISH",t,"",{},n)},d.prototype.createLocation=function(t,n,r){var i=this;this.loadContentInfo(t,function(e,t){if(!e){var s=t.document.Content.Locations;i._connectionManager.request("POST",s._href,JSON.stringify(n.body),n.headers,r)}else r(e,!1)})},d.prototype.loadLocations=function(t,n){var r=this;this.loadContentInfo(t,function(e,t){if(!e){var i=t.document.Content.Locations;r._connectionManager.request("GET",i._href,"",{Accept:"application/vnd.ez.api.LocationList+json"},n)}else n(e,!1)})},d.prototype.loadLocation=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.Location+json"},n)},d.prototype.loadLocationByRemoteId=function(t,n,r){this._connectionManager.request("GET",t+"?remoteId="+n,"",{Accept:"application/vnd.ez.api.Location+json"},r)},d.prototype.updateLocation=function(t,n,r){this._connectionManager.request("PATCH",t,JSON.stringify(n.body),n.headers,r)},d.prototype.loadLocationChildren=function(t,n,r,i){var s=this,o=-1,u=0;arguments.length<4&&(typeof n=="function"?(i=n,n=o,r=u):(i=r,r=u)),this.loadLocation(t,function(e,t){if(!e){var o=t.document.Location;s._connectionManager.request("GET",o.Children._href+"?offset="+r+"&limit="+n,"",{Accept:o.Children["_media-type"]},i)}else i(e,!1)})},d.prototype.copySubtree=function(t,n,r){this._connectionManager.request("COPY",t,"",{Destination:n},r)},d.prototype.moveSubtree=function(t,n,r){this._connectionManager.request("MOVE",t,"",{Destination:n},r)},d.prototype.swapLocation=function(t,n,r){this._connectionManager.request("SWAP",t,"",{Destination:n},r)},d.prototype.deleteLocation=function(t,n){this._connectionManager.delete(t,n)},d.prototype.createView=function(t,n){var r=this;this._discoveryService.getInfoObject("views",function(e,i){e?n(e,!1):r._connectionManager.request("POST",i._href,JSON.stringify(t.body),t.headers,n)})},d.prototype.loadRelations=function(t,n,r,i){var s=this,o=-1,u=0;arguments.length<4&&(typeof n=="function"?(i=n,n=o,r=u):(i=r,r=u)),this.loadContent(t,{},function(e,t){if(!e){var o=t.document.Version;s._connectionManager.request("GET",o.Relations._href+"?offset="+r+"&limit="+n,"",{Accept:o.Relations["_media-type"]},i)}else i(e,!1)})},d.prototype.loadCurrentRelations=function(t,n,r,i){var s=this,o=-1,u=0;arguments.length<4&&(typeof n=="function"?(i=n,n=o,r=u):(i=r,r=u)),this.loadCurrentVersion(t,function(e,t){if(!e){var o=t.document.Version;s._connectionManager.request("GET",o.Relations._href+"?offset="+r+"&limit="+n,"",{Accept:o.Relations["_media-type"]},i)}else i(e,!1)})},d.prototype.loadRelation=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.Relation+json"},n)},d.prototype.addRelation=function(t,n,r){var i=this;this.loadContent(t,{},function(e,t){if(!e){var s=t.document.Version;i._connectionManager.request("POST",s.Relations._href,JSON.stringify(n.body),n.headers,r)}else r(e,!1)})},d.prototype.deleteRelation=function(t,n){this._connectionManager.delete(t,n)},d.prototype.loadTrashItems=function(t,n,r){var i=this,s=-1,o=0;arguments.length<3&&(typeof t=="function"?(r=t,t=s,n=o):(r=n,n=o)),this._discoveryService.getInfoObject("trash",function(e,s){e?r(e,!1):i._connectionManager.request("GET",s._href+"?offset="+n+"&limit="+t,"",{Accept:s["_media-type"]},r)})},d.prototype.loadTrashItem=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.TrashItem+json"},n)},d.prototype.recover=function(t,n,r){var i={Accept:"application/vnd.ez.api.TrashItem+json"};typeof n!="function"?i.Destination=n:r=n,this._connectionManager.request("MOVE",t,"",i,r)},d.prototype.deleteTrashItem=function(t,n){this._connectionManager.delete(t,n)},d.prototype.emptyThrash=function(t){var n=this;this._discoveryService.getInfoObject("trash",function(e,r){e?t(e,!1):n._connectionManager.request("DELETE",r._href,"",{},t)})},d.prototype.loadObjectStateGroups=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.ObjectStateGroupList+json"},n)},d.prototype.loadObjectStateGroup=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.ObjectStateGroup+json"},n)},d.prototype.createObjectStateGroup=function(t,n,r){this._connectionManager.request("POST",t,JSON.stringify(n.body),n.headers,r)},d.prototype.updateObjectStateGroup=function(t,n,r){this._connectionManager.request("PATCH",t,JSON.stringify(n.body),n.headers,r)},d.prototype.deleteObjectStateGroup=function(t,n){this._connectionManager.delete(t,n)},d.prototype.createObjectState=function(t,n,r){this._connectionManager.request("POST",t+"/objectstates",JSON.stringify(n.body),n.headers,r)},d.prototype.loadObjectState=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.ObjectState+json"},n)},d.prototype.updateObjectState=function(t,n,r){this._connectionManager.request("PATCH",t,JSON.stringify(n.body),n.headers,r)},d.prototype.deleteObjectState=function(t,n){this._connectionManager.delete(t,n)},d.prototype.getContentState=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.ContentObjectStates+json"},n)},d.prototype.setContentState=function(t,n,r){this._connectionManager.request("PATCH",t,JSON.stringify(n),{Accept:"application/vnd.ez.api.ContentObjectStates+json","Content-Type":"application/vnd.ez.api.ContentObjectStates+json"},r)},d.prototype.createUrlAlias=function(t,n,r){this._connectionManager.request("POST",t,JSON.stringify(n.body),n.headers,r)},d.prototype.listGlobalAliases=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.UrlAliasRefList+json"},n)},d.prototype.listLocationAliases=function(t,n,r){var i;arguments.length<3&&(r=n,n=!0),i=n===!0?"":"?custom=false",this._connectionManager.request("GET",t+"/urlaliases"+i,"",{Accept:"application/vnd.ez.api.UrlAliasRefList+json"},r)},d.prototype.loadUrlAlias=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.UrlAlias+json"},n)},d.prototype.deleteUrlAlias=function(t,n){this._connectionManager.delete(t,n)},d.prototype.createUrlWildcard=function(t,n,r){this._connectionManager.request("POST",t,JSON.stringify(n.body),n.headers,r)},d.prototype.loadUrlWildcards=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.UrlWildcardList+json"},n)},d.prototype.loadUrlWildcard=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.UrlWildcard+json"},n)},d.prototype.deleteUrlWildcard=function(t,n){this._connectionManager.delete(t,n)},d}),n("structures/ContentTypeGroupInputStruct",[],function(){var e=function(e){return this.body={},this.body.ContentTypeGroupInput={},this.body.ContentTypeGroupInput.identifier=e,this.headers={},this.headers.Accept="application/vnd.ez.api.ContentTypeGroup+json",this.headers["Content-Type"]="application/vnd.ez.api.ContentTypeGroupInput+json",this};return e}),n("structures/ContentTypeCreateStruct",[],function(){var e=function(e,t,n){var r=JSON.parse(JSON.stringify(new Date));return this.body={},this.body.ContentTypeCreate={},this.body.ContentTypeCreate.identifier=e,this.body.ContentTypeCreate.names={},this.body.ContentTypeCreate.names.value=n,this.body.ContentTypeCreate.nameSchema="&lt;title&gt;",this.body.ContentTypeCreate.urlAliasSchema="&lt;title&gt;",this.body.ContentTypeCreate.remoteId=null,this.body.ContentTypeCreate.mainLanguageCode=t,this.body.ContentTypeCreate.isContainer="true",this.body.ContentTypeCreate.modificationDate=r,this.body.ContentTypeCreate.defalutAlwaysAvailable="true",this.body.ContentTypeCreate.defalutSortField="PATH",this.body.ContentTypeCreate.defalutSortOrder="ASC",this.body.ContentTypeCreate.FieldDefinitions={},this.body.ContentTypeCreate.FieldDefinitions.FieldDefinition=[],this.headers={},this.headers.Accept="application/vnd.ez.api.ContentType+json",this.headers["Content-Type"]="application/vnd.ez.api.ContentTypeCreate+json",this};return e}),n("structures/ContentTypeUpdateStruct",[],function(){var e=function(){return this.body={},this.body.ContentTypeUpdate={},this.headers={},this.headers.Accept="application/vnd.ez.api.ContentType+json",this.headers["Content-Type"]="application/vnd.ez.api.ContentTypeUpdate+json",this};return e}),n("structures/FieldDefinitionCreateStruct",[],function(){var e=function(e,t,n,r){return this.body={},this.body.FieldDefinitionCreate={},this.body.FieldDefinitionCreate.identifier=e,this.body.FieldDefinitionCreate.fieldType=t,this.body.FieldDefinitionCreate.fieldGroup=n,this.body.FieldDefinitionCreate.position=1,this.body.FieldDefinitionCreate.isTranslatable="true",this.body.FieldDefinitionCreate.isRequired="false",this.body.FieldDefinitionCreate.isInfoCollector="false",this.body.FieldDefinitionCreate.isSearchable="false",this.body.FieldDefinitionCreate.defaultValue="false",this.body.FieldDefinitionCreate.names={},this.body.FieldDefinitionCreate.names.value=r,this.body.FieldDefinitionCreate.descriptions={},this.body.FieldDefinitionCreate.descriptions.value=[],this.headers={},this.headers.Accept="application/vnd.ez.api.FieldDefinition+json",this.headers["Content-Type"]="application/vnd.ez.api.FieldDefinitionCreate+json",this};return e}),n("structures/FieldDefinitionUpdateStruct",[],function(){var e=function(){return this.body={},this.body.FieldDefinitionUpdate={},this.headers={},this.headers.Accept="application/vnd.ez.api.FieldDefinition+json",this.headers["Content-Type"]="application/vnd.ez.api.FieldDefinitionUpdate+json",this};return e}),n("services/ContentTypeService",["structures/ContentTypeGroupInputStruct","structures/ContentTypeCreateStruct","structures/ContentTypeUpdateStruct","structures/FieldDefinitionCreateStruct","structures/FieldDefinitionUpdateStruct"],function(e,t,n,r,i){var s=function(e,t){this._connectionManager=e,this._discoveryService=t};return s.prototype.newContentTypeGroupInputStruct=function(n){return new e(n)},s.prototype.newContentTypeCreateStruct=function(n,r,i){return new t(n,r,i)},s.prototype.newContentTypeUpdateStruct=function(){return new n},s.prototype.newFieldDefinitionCreateStruct=function(t,n,i,s){return new r(t,n,i,s)},s.prototype.newFieldDefinitionUpdateStruct=function(){return new i},s.prototype.createContentTypeGroup=function(t,n,r){this._connectionManager.request("POST",t,JSON.stringify(n.body),n.headers,r)},s.prototype.loadContentTypeGroups=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.ContentTypeGroupList+json"},n)},s.prototype.loadContentTypeGroup=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.ContentTypeGroup+json"},n)},s.prototype.updateContentTypeGroup=function(t,n,r){this._connectionManager.request("PATCH",t,JSON.stringify(n.body),n.headers,r)},s.prototype.deleteContentTypeGroup=function(t,n){this._connectionManager.delete(t,n)},s.prototype.loadContentTypes=function(t,n){var r=this;this.loadContentTypeGroup(t,function(e,t){if(!e){var i=t.document.ContentTypeGroup;r._connectionManager.request("GET",i.ContentTypes._href,"",{Accept:i.ContentTypes["_media-type"]},n)}else n(e,!1)})},s.prototype.loadContentTypeGroupByIdentifier=function(t,n,r){this._connectionManager.request("GET",t+"?identifier="+n,"",{Accept:"application/vnd.ez.api.ContentTypeGroup+json"},r)},s.prototype.createContentType=function(t,n,r,i){var s=this;this.loadContentTypeGroup(t,function(e,t){if(!e){var o=t.document.ContentTypeGroup,u=r===!0?"?publish=true":"";s._connectionManager.request("POST",o.ContentTypes._href+u,JSON.stringify(n.body),n.headers,i)}else i(e,!1)})},s.prototype.copyContentType=function(t,n){this._connectionManager.request("COPY",t,"",{},n)},s.prototype.loadContentType=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.ContentType+json"},n)},s.prototype.loadContentTypeByIdentifier=function(t,n){var r=this;this._discoveryService.getInfoObject("contentTypes",function(e,i){e?n(e,!1):r._connectionManager.request("GET",i._href+"?identifier="+t,"",{Accept:i["_media-type"]},n)})},s.prototype.deleteContentType=function(t,n){this._connectionManager.delete(t,n)},s.prototype.loadGroupsOfContentType=function(t,n){this._connectionManager.request("GET",t+"/groups","",{Accept:"application/vnd.ez.api.ContentTypeGroupRefList+json"},n)},s.prototype.assignContentTypeGroup=function(t,n,r){this._connectionManager.request("POST",t+"/groups"+"?group="+n,"",{},r)},s.prototype.unassignContentTypeGroup=function(t,n){this._connectionManager.delete(t,n)},s.prototype.createContentTypeDraft=function(t,n,r){this._connectionManager.request("POST",t,JSON.stringify(n.body),n.headers,r)},s.prototype.loadContentTypeDraft=function(t,n){this._connectionManager.request("GET",t+"/draft","",{Accept:"application/vnd.ez.api.ContentType+json"},n)},s.prototype.updateContentTypeDraftMetadata=function(t,n,r){this._connectionManager.request("PATCH",t,JSON.stringify(n.body),n.headers,r)},s.prototype.publishContentTypeDraft=function(t,n){this._connectionManager.request("PUBLISH",t,"",{},n)},s.prototype.deleteContentTypeDraft=function(t,n){this._connectionManager.delete(t,n)},s.prototype.addFieldDefinition=function(t,n,r){var i=this;this.loadContentTypeDraft(t,function(e,t){if(!e){var s=t.document.ContentType.FieldDefinitions;i._connectionManager.request("POST",s._href,JSON.stringify(n.body),n.headers,r)}else r(e,!1)})},s.prototype.loadFieldDefinition=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.FieldDefinition+json"},n)},s.prototype.updateFieldDefinition=function(t,n,r){this._connectionManager.request("PATCH",t,JSON.stringify(n.body),n.headers,r)},s.prototype.deleteFieldDefinition=function(t,n){this._connectionManager.delete(t,n)},s}),n("structures/SessionCreateStruct",[],function(){var e=function(e,t){return this.body={},this.body.SessionInput={},this.body.SessionInput.login=e,this.body.SessionInput.password=t,this.headers={Accept:"application/vnd.ez.api.Session+json","Content-Type":"application/vnd.ez.api.SessionInput+json"},this};return e}),n("structures/UserCreateStruct",[],function(){var e=function(e,t,n,r,i){return this.body={},this.body.UserCreate={},this.body.UserCreate.mainLanguageCode=e,this.body.UserCreate.login=t,this.body.UserCreate.email=n,this.body.UserCreate.password=r,this.body.UserCreate.fields={},this.body.UserCreate.fields.field=i,this.headers={},this.headers.Accept="application/vnd.ez.api.User+json",this.headers["Content-Type"]="application/vnd.ez.api.UserCreate+json",this};return e}),n("structures/UserUpdateStruct",[],function(){var e=function(){return this.body={},this.body.UserUpdate={},this.body.UserUpdate.fields={},this.body.UserUpdate.fields.field=[],this.headers={},this.headers.Accept="application/vnd.ez.api.User+json",this.headers["Content-Type"]="application/vnd.ez.api.UserUpdate+json",this};return e}),n("structures/UserGroupCreateStruct",[],function(){var e=function(e,t){return this.body={},this.body.UserGroupCreate={},this.body.UserGroupCreate.mainLanguageCode=e,this.body.UserGroupCreate.fields={},this.body.UserGroupCreate.fields.field=t,this.headers={},this.headers.Accept="application/vnd.ez.api.UserGroup+json",this.headers["Content-Type"]="application/vnd.ez.api.UserGroupCreate+json",this};return e}),n("structures/UserGroupUpdateStruct",[],function(){var e=function(e,t){return this.body={},this.body.UserGroupUpdate={},this.body.UserGroupUpdate.fields={},this.body.UserGroupUpdate.fields.field=[],this.headers={},this.headers.Accept="application/vnd.ez.api.UserGroup+json",this.headers["Content-Type"]="application/vnd.ez.api.UserGroupUpdate+json",this};return e}),n("structures/PolicyCreateStruct",[],function(){var e=function(e,t,n){return this.body={},this.body.PolicyCreate={},this.body.PolicyCreate.module=e,this.body.PolicyCreate.function=t,this.body.PolicyCreate.limitations={},this.body.PolicyCreate.limitations.limitation=n,this.headers={},this.headers.Accept="application/vnd.ez.api.Policy+json",this.headers["Content-Type"]="application/vnd.ez.api.PolicyCreate+json",this};return e}),n("structures/PolicyUpdateStruct",[],function(){var e=function(e){return this.body={},this.body.PolicyUpdate={},this.body.PolicyUpdate.limitations={},this.body.PolicyUpdate.limitations.limitation=e,this.headers={},this.headers.Accept="application/vnd.ez.api.Policy+json",this.headers["Content-Type"]="application/vnd.ez.api.PolicyUpdate+json",this};return e}),n("structures/RoleInputStruct",[],function(){var e=function(e){return this.body={},this.body.RoleInput={},this.body.RoleInput.identifier=e,this.headers={},this.headers.Accept="application/vnd.ez.api.Role+json",this.headers["Content-Type"]="application/vnd.ez.api.RoleInput+json",this};return e}),n("structures/RoleAssignInputStruct",[],function(){var e=function(e,t){return this.body={},this.body.RoleAssignInput={},this.body.RoleAssignInput.Role=e,this.body.RoleAssignInput.limitation=t,this.headers={},this.headers.Accept="application/vnd.ez.api.RoleAssignmentList+json",this.headers["Content-Type"]="application/vnd.ez.api.RoleAssignInput+json",this};return e}),n("services/UserService",["structures/SessionCreateStruct","structures/UserCreateStruct","structures/UserUpdateStruct","structures/UserGroupCreateStruct","structures/UserGroupUpdateStruct","structures/PolicyCreateStruct","structures/PolicyUpdateStruct","structures/RoleInputStruct","structures/RoleAssignInputStruct"],function(e,t,n,r,i,s,o,u,a){var f=function(e,t){this._connectionManager=e,this._discoveryService=t};return f.prototype.newSessionCreateStruct=function(n,r){return new e(n,r)},f.prototype.newUserGroupCreateStruct=function(t,n){return new r(t,n)},f.prototype.newUserGroupUpdateStruct=function(){return new i},f.prototype.newUserCreateStruct=function(n,r,i,s,o){return new t(n,r,i,s,o)},f.prototype.newUserUpdateStruct=function(){return new n},f.prototype.newRoleInputStruct=function(t){return new u(t)},f.prototype.newRoleAssignInputStruct=function(t,n){return new a(t,n)},f.prototype.newPolicyCreateStruct=function(t,n,r){return new s(t,n,r)},f.prototype.newPolicyUpdateStruct=function(t){return new o(t)},f.prototype.loadRootUserGroup=function(t){var n=this;this._discoveryService.getInfoObject("rootUserGroup",function(e,r){e?t(e,!1):n._connectionManager.request("GET",r._href,"",{Accept:r["_media-type"]},t)})},f.prototype.loadUserGroup=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.UserGroup+json"},n)},f.prototype.loadUserGroupByRemoteId=function(t,n,r){this._connectionManager.request("GET",t+"?remoteId="+n,"",{Accept:"application/vnd.ez.api.UserGroupList+json"},r)},f.prototype.deleteUserGroup=function(t,n){this._connectionManager.delete(t,n)},f.prototype.moveUserGroup=function(t,n,r){this._connectionManager.request("MOVE",t,"",{Destination:n},r)},f.prototype.createUserGroup=function(t,n,r){var i=this;this.loadUserGroup(t,function(e,t){if(!e){var s=t.document.UserGroup.Subgroups;i._connectionManager.request("POST",s._href,JSON.stringify(n.body),n.headers,r)}else r(e,!1)})},f.prototype.updateUserGroup=function(t,n,r){this._connectionManager.request("PATCH",t,JSON.stringify(n.body),n.headers,r)},f.prototype.loadSubUserGroups=function(t,n){var r=this;this.loadUserGroup(t,function(e,t){if(!e){var i=t.document.UserGroup.Subgroups;r._connectionManager.request("GET",i._href,"",{Accept:i["_media-type"]},n)}else n(e,!1)})},f.prototype.loadUsersOfUserGroup=function(t,n){var r=this;this.loadUserGroup(t,function(e,t){if(!e){var i=t.document.UserGroup.Users;r._connectionManager.request("GET",i._href,"",{Accept:i["_media-type"]},n)}else n(e,!1)})},f.prototype.loadUserGroupsOfUser=function(t,n){this._connectionManager.request("GET",t+"/groups","",{Accept:"application/vnd.ez.api.UserGroupRefList+json"},n)},f.prototype.createUser=function(t,n,r){var i=this;this.loadUserGroup(t,function(e,t){if(!e){var s=t.document.UserGroup.Users;i._connectionManager.request("POST",s._href,JSON.stringify(n.body),n.headers,r)}else r(e,!1)})},f.prototype.getRoleAssignments=function(t,n,r){this._connectionManager.request("GET",t+"?roleId="+n,"",{Accept:"application/vnd.ez.api.UserList+json"},r)},f.prototype.loadUser=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.User+json"},n)},f.prototype.updateUser=function(t,n,r){this._connectionManager.request("PATCH",t,JSON.stringify(n.body),n.headers,r)},f.prototype.deleteUser=function(t,n){this._connectionManager.delete(t,n)},f.prototype.assignUserToUserGroup=function(t,n,r){var i=this;this.loadUser(t,function(e,t){if(!e){var s=t.document.User.UserGroups;i._connectionManager.request("POST",s._href+"?group="+n,"",{Accept:s["_media-type"]},r)}else r(e,!1)})},f.prototype.unassignUserFromUserGroup=function(t,n){this._connectionManager.delete(t,n)},f.prototype.createRole=function(t,n){var r=this;this._discoveryService.getInfoObject("roles",function(e,i){e?n(e,!1):r._connectionManager.request("POST",i._href,JSON.stringify(t.body),t.headers,n)})},f.prototype.loadRole=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.Role+json"},n)},f.prototype.loadRoles=function(t,n,r,i){var s=this,o,u="",a=-1,f=0;arguments.length<4&&(typeof t=="function"?(i=t,t=u,n=a,r=f):typeof n=="function"?(i=n,n=a,r=f):(i=r,r=f)),o=t===""?"":"&identifier="+t,this._discoveryService.getInfoObject("roles",function(e,t){e?i(e,!1):s._connectionManager.request("GET",t._href+"?offset="+r+"&limit="+n+o,"",{Accept:t["_media-type"]},i)})},f.prototype.updateRole=function(t,n,r){this._connectionManager.request("PATCH",t,JSON.stringify(n.body),n.headers,r)},f.prototype.deleteRole=function(t,n){this._connectionManager.delete(t,n)},f.prototype.getRoleAssignmentsForUser=function(t,n){var r=this;this.loadUser(t,function(e,t){if(!e){var i=t.document.User.Roles;r._connectionManager.request("GET",i._href,"",{Accept:i["_media-type"]},n)}else n(e,!1)})},f.prototype.getRoleAssignmentsForUserGroup=function(t,n){var r=this;this.loadUserGroup(t,function(e,t){if(!e){var i=t.document.UserGroup.Roles;r._connectionManager.request("GET",i._href,"",{Accept:i["_media-type"]},n)}else n(e,!1)})},f.prototype.getUserAssignmentObject=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.RoleAssignment+json"},n)},f.prototype.getUserGroupAssignmentObject=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.RoleAssignment+json"},n)},f.prototype.assignRoleToUser=function(t,n,r){var i=this;this.loadUser(t,function(e,t){if(!e){var s=t.document.User.Roles;i._connectionManager.request("POST",s._href,JSON.stringify(n.body),n.headers,r)}else r(e,!1)})},f.prototype.assignRoleToUserGroup=function(t,n,r){var i=this;this.loadUserGroup(t,function(e,t){if(!e){var s=t.document.UserGroup.Roles;i._connectionManager.request("POST",s._href,JSON.stringify(n.body),n.headers,r)}else r(e,!1)})},f.prototype.unassignRoleFromUser=function(t,n){this._connectionManager.delete(t,n)},f.prototype.unassignRoleFromUserGroup=function(t,n){this._connectionManager.delete(t,n)},f.prototype.addPolicy=function(t,n,r){var i=this;this.loadRole(t,function(e,t){if(!e){var s=t.document.Role.Policies;i._connectionManager.request("POST",s._href,JSON.stringify(n.body),n.headers,r)}else r(e,!1)})},f.prototype.loadPolicies=function(t,n){var r=this;this.loadRole(t,function(e,t){if(!e){var i=t.document.Role.Policies;r._connectionManager.request("GET",i._href,"",{Accept:i["_media-type"]},n)}else n(e,!1)})},f.prototype.loadPolicy=function(t,n){this._connectionManager.request("GET",t,"",{Accept:"application/vnd.ez.api.Policy+json"},n)},f.prototype.updatePolicy=function(t,n,r){this._connectionManager.request("PATCH",t,JSON.stringify(n.body),n.headers,r)},f.prototype.deletePolicy=function(t,n){this._connectionManager.delete(t,n)},f.prototype.loadPoliciesByUserId=function(t,n,r){this._connectionManager.request("GET",t+"?userId="+n,"",{Accept:"application/vnd.ez.api.PolicyList+json"},r)},f.prototype.createSession=function(t,n,r){this._connectionManager.notAuthorizedRequest("POST",t,JSON.stringify(n.body),n.headers,r)},f.prototype.deleteSession=function(t,n){this._connectionManager.delete(t,n)},f.prototype.logOut=function(t){this._connectionManager.logOut(t)},f}),n("CAPI",["authAgents/SessionAuthAgent","authAgents/HttpBasicAuthAgent","ConnectionManager","ConnectionFeatureFactory","connections/XmlHttpRequestConnection","connections/MicrosoftXmlHttpRequestConnection","services/DiscoveryService","services/ContentService","services/ContentTypeService","services/UserService"],function(e,t,n,r,i,s,o,u,a,f){var l=function(e,t,l){var c={logRequests:!1,rootPath:"/api/ezp/v2/",connectionStack:[{connection:i},{connection:s}]},h=c,p,d,v,m;this._contentService=null,this._contentTypeService=null,this._userService=null,t.setCAPI(this);if(typeof l=="object")for(p in l)l.hasOwnProperty(p)&&(h[p]=l[p]);d=new r(h.connectionStack),v=new n(e,t,d),v.logRequests=h.logRequests,m=new o(h.rootPath,v),this.getContentService=function(){return this._contentService||(this._contentService=new u(v,m)),this._contentService},this.getContentTypeService=function(){return this._contentTypeService||(this._contentTypeService=new a(v,m)),this._contentTypeService},this.getUserService=function(){return this._userService||(this._userService=new f(v,m)),this._userService}};return l}),function(e){if(typeof bootstrap=="function")bootstrap("promise",e);else if(typeof exports=="object")module.exports=e();else if(typeof n=="function"&&n.amd)n("services/../../node_modules/q/q",e);else if(typeof ses!="undefined"){if(!ses.ok())return;ses.makeQ=e}else Q=e()}(function(){function u(e){return function(){return o.apply(e,arguments)}}function m(e){return e===Object(e)}function g(e){return v(e)==="[object StopIteration]"||e instanceof y}function E(t,n){if(e&&n.stack&&typeof t=="object"&&t!==null&&t.stack&&t.stack.indexOf(w)===-1){var r=[];for(var i=n;!!i;i=i.source)i.stack&&r.unshift(i.stack);r.unshift(t.stack);var s=r.join("\n"+w+"\n");t.stack=S(s)}}function S(e){var t=e.split("\n"),n=[];for(var r=0;r<t.length;++r){var i=t[r];!N(i)&&!x(i)&&i&&n.push(i)}return n.join("\n")}function x(e){return e.indexOf("(module.js:")!==-1||e.indexOf("(node.js:")!==-1}function T(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);if(r)return[r[1],Number(r[2])]}function N(e){var t=T(e);if(!t)return!1;var i=t[0],s=t[1];return i===r&&s>=n&&s<=lt}function C(){if(!e)return;try{throw new Error}catch(t){var n=t.stack.split("\n"),i=n[0].indexOf("@")>0?n[1]:n[2],s=T(i);if(!s)return;return r=s[0],s[1]}}function k(e,t,n){return function(){return typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(t+" is deprecated, use "+n+" instead.",(new Error("")).stack),e.apply(e,arguments)}}function L(e){return H(e)?e:B(e)?G(e):Q(e)}function A(){function l(e){r=e,o.source=e,f(t,function(t,n){s(function(){e.promiseDispatch.apply(e,n)})},void 0),t=void 0,n=void 0}var t=[],n=[],r,i=h(A.prototype),o=h(_.prototype);o.promiseDispatch=function(e,i,o){var u=a(arguments);t?(t.push(u),i==="when"&&o[1]&&n.push(o[1])):s(function(){r.promiseDispatch.apply(r,u)})},o.valueOf=k(function(){if(t)return o;var e=P(r);return H(e)&&(r=e),e},"valueOf","inspect"),o.inspect=function(){return r?r.inspect():{state:"pending"}};if(L.longStackSupport&&e)try{throw new Error}catch(u){o.stack=u.stack.substring(u.stack.indexOf("\n")+1)}return i.promise=o,i.resolve=function(e){if(r)return;l(L(e))},i.fulfill=function(e){if(r)return;l(Q(e))},i.reject=function(e){if(r)return;l(K(e))},i.notify=function(e){if(r)return;f(n,function(t,n){s(function(){n(e)})},void 0)},i}function O(e){if(typeof e!="function")throw new TypeError("resolver must be a function.");var t=A();try{e(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}return t.promise}function M(e){return O(function(t,n){for(var r=0,i=e.length;r<i;r++)L(e[r]).then(t,n)})}function _(e,t,n){t===void 0&&(t=function(e){return K(new Error("Promise does not support operation: "+e))}),n===void 0&&(n=function(){return{state:"unknown"}});var r=h(_.prototype);r.promiseDispatch=function(n,i,s){var o;try{e[i]?o=e[i].apply(r,s):o=t.call(r,i,s)}catch(u){o=K(u)}n&&n(o)},r.inspect=n;if(n){var i=n();i.state==="rejected"&&(r.exception=i.reason),r.valueOf=k(function(){var e=n();return e.state==="pending"||e.state==="rejected"?r:e.value})}return r}function D(e,t,n,r){return L(e).then(t,n,r)}function P(e){if(H(e)){var t=e.inspect();if(t.state==="fulfilled")return t.value}return e}function H(e){return m(e)&&typeof e.promiseDispatch=="function"&&typeof e.inspect=="function"}function B(e){return m(e)&&typeof e.then=="function"}function j(e){return H(e)&&e.inspect().state==="pending"}function F(e){return!H(e)||e.inspect().state==="fulfilled"}function I(e){return H(e)&&e.inspect().state==="rejected"}function W(){!U&&typeof window!="undefined"&&!window.Touch&&window.console&&console.warn("[Q] Unhandled rejection reasons (should be empty):",q),U=!0}function X(){for(var e=0;e<q.length;e++){var t=q[e];console.warn("Unhandled rejection reason:",t)}}function V(){q.length=0,R.length=0,U=!1,z||(z=!0,typeof process!="undefined"&&process.on&&process.on("exit",X))}function $(e,t){if(!z)return;R.push(e),t&&typeof t.stack!="undefined"?q.push(t.stack):q.push("(no stack) "+t),W()}function J(e){if(!z)return;var t=l(R,e);t!==-1&&(R.splice(t,1),q.splice(t,1))}function K(e){var t=_({when:function(t){return t&&J(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return $(t,e),t}function Q(e){return _({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},"delete":function(t){delete e[t]},post:function(t,n){return t===null||t===void 0?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return d(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function G(e){var t=A();return s(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}}),t.promise}function Y(e){return _({isDef:function(){}},function(n,r){return it(e,n,r)},function(){return L(e).inspect()})}function Z(e,t,n){return L(e).spread(t,n)}function et(e){return function(){function t(e,t){var s;if(b){try{s=n[e](t)}catch(o){return K(o)}return s.done?s.value:D(s.value,r,i)}try{s=n[e](t)}catch(o){return g(o)?o.value:K(o)}return D(s,r,i)}var n=e.apply(this,arguments),r=t.bind(t,"next"),i=t.bind(t,"throw");return r()}}function tt(e){L.done(L.async(e)())}function nt(e){throw new y(e)}function rt(e){return function(){return Z([this,st(arguments)],function(t,n){return e.apply(t,n)})}}function it(e,t,n){return L(e).dispatch(t,n)}function st(e){return D(e,function(e){var t=0,n=A();return f(e,function(r,i,s){var o;H(i)&&(o=i.inspect()).state==="fulfilled"?e[s]=o.value:(++t,D(i,function(r){e[s]=r,--t===0&&n.resolve(e)},n.reject,function(e){n.notify({index:s,value:e})}))},void 0),t===0&&n.resolve(e),n.promise})}function ot(e){return D(e,function(e){return e=c(e,L),D(st(c(e,function(e){return D(e,i,i)})),function(){return e})})}function ut(e){return L(e).allSettled()}function at(e,t){return L(e).then(void 0,void 0,t)}function ft(e,t){return L(e).nodeify(t)}var e=!1;try{throw new Error}catch(t){e=!!t.stack}var n=C(),r,i=function(){},s=function(){function o(){while(e.next){e=e.next;var t=e.task;e.task=void 0;var r=e.domain;r&&(e.domain=void 0,r.enter());try{t()}catch(s){if(i)throw r&&r.exit(),setTimeout(o,0),r&&r.enter(),s;setTimeout(function(){throw s},0)}r&&r.exit()}n=!1}var e={task:void 0,next:null},t=e,n=!1,r=void 0,i=!1;s=function(e){t=t.next={task:e,domain:i&&process.domain,next:null},n||(n=!0,r())};if(typeof process!="undefined"&&process.nextTick)i=!0,r=function(){process.nextTick(o)};else if(typeof setImmediate=="function")typeof window!="undefined"?r=setImmediate.bind(window,o):r=function(){setImmediate(o)};else if(typeof MessageChannel!="undefined"){var u=new MessageChannel;u.port1.onmessage=function(){r=a,u.port1.onmessage=o,o()};var a=function(){u.port2.postMessage(0)};r=function(){setTimeout(o,0),a()}}else r=function(){setTimeout(o,0)};return s}(),o=Function.call,a=u(Array.prototype.slice),f=u(Array.prototype.reduce||function(e,t){var n=0,r=this.length;if(arguments.length===1)do{if(n in this){t=this[n++];break}if(++n>=r)throw new TypeError}while(1);for(;n<r;n++)n in this&&(t=e(t,this[n],n));return t}),l=u(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),c=u(Array.prototype.map||function(e,t){var n=this,r=[];return f(n,function(i,s,o){r.push(e.call(t,s,o,n))},void 0),r}),h=Object.create||function(e){function t(){}return t.prototype=e,new t},p=u(Object.prototype.hasOwnProperty),d=Object.keys||function(e){var t=[];for(var n in e)p(e,n)&&t.push(n);return t},v=u(Object.prototype.toString),y;typeof ReturnValue!="undefined"?y=ReturnValue:y=function(e){this.value=e};var b;try{new Function("(function* (){ yield 1; })"),b=!0}catch(t){b=!1}var w="From previous event:";L.resolve=L,L.nextTick=s,L.longStackSupport=!1,L.defer=A,A.prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):arguments.length>2?e.resolve(a(arguments,1)):e.resolve(n)}},L.promise=O,L.passByCopy=function(e){return e},_.prototype.passByCopy=function(){return this},L.join=function(e,t){return L(e).join(t)},_.prototype.join=function(e){return L([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Can't join: not the same: "+e+" "+t)})},L.race=M,_.prototype.race=function(){return this.then(L.race)},L.makePromise=_,_.prototype.toString=function(){return"[object Promise]"},_.prototype.then=function(e,t,n){function u(t){try{return typeof e=="function"?e(t):t}catch(n){return K(n)}}function a(e){if(typeof t=="function"){E(e,r);try{return t(e)}catch(n){return K(n)}}return K(e)}function f(e){return typeof n=="function"?n(e):e}var r=this,i=A(),o=!1;return s(function(){r.promiseDispatch(function(e){if(o)return;o=!0,i.resolve(u(e))},"when",[function(e){if(o)return;o=!0,i.resolve(a(e))}])}),r.promiseDispatch(void 0,"when",[void 0,function(e){var t,n=!1;try{t=f(e)}catch(r){n=!0;if(!L.onerror)throw r;L.onerror(r)}n||i.notify(t)}]),i.promise},L.when=D,_.prototype.thenResolve=function(e){return this.then(function(){return e})},L.thenResolve=function(e,t){return L(e).thenResolve(t)},_.prototype.thenReject=function(e){return this.then(function(){throw e})},L.thenReject=function(e,t){return L(e).thenReject(t)},L.nearer=P,L.isPromise=H,L.isPromiseAlike=B,L.isPending=j,_.prototype.isPending=function(){return this.inspect().state==="pending"},L.isFulfilled=F,_.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"},L.isRejected=I,_.prototype.isRejected=function(){return this.inspect().state==="rejected"};var q=[],R=[],U=!1,z=!0;L.resetUnhandledRejections=V,L.getUnhandledReasons=function(){return q.slice()},L.stopUnhandledRejectionTracking=function(){V(),typeof process!="undefined"&&process.on&&process.removeListener("exit",X),z=!1},V(),L.reject=K,L.fulfill=Q,L.master=Y,L.spread=Z,_.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},L.async=et,L.spawn=tt,L["return"]=nt,L.promised=rt,L.dispatch=it,_.prototype.dispatch=function(e,t){var n=this,r=A();return s(function(){n.promiseDispatch(r.resolve,e,t)}),r.promise},L.get=function(e,t){return L(e).dispatch("get",[t])},_.prototype.get=function(e){return this.dispatch("get",[e])},L.set=function(e,t,n){return L(e).dispatch("set",[t,n])},_.prototype.set=function(e,t){return this.dispatch("set",[e,t])},L.del=L["delete"]=function(e,t){return L(e).dispatch("delete",[t])},_.prototype.del=_.prototype["delete"]=function(e){return this.dispatch("delete",[e])},L.mapply=L.post=function(e,t,n){return L(e).dispatch("post",[t,n])},_.prototype.mapply=_.prototype.post=function(e,t){return this.dispatch("post",[e,t])},L.send=L.mcall=L.invoke=function(e,t){return L(e).dispatch("post",[t,a(arguments,2)])},_.prototype.send=_.prototype.mcall=_.prototype.invoke=function(e){return this.dispatch("post",[e,a(arguments,1)])},L.fapply=function(e,t){return L(e).dispatch("apply",[void 0,t])},_.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},L["try"]=L.fcall=function(e){return L(e).dispatch("apply",[void 0,a(arguments,1)])},_.prototype.fcall=function(){return this.dispatch("apply",[void 0,a(arguments)])},L.fbind=function(e){var t=L(e),n=a(arguments,1);return function(){return t.dispatch("apply",[this,n.concat(a(arguments))])}},_.prototype.fbind=function(){var e=this,t=a(arguments);return function(){return e.dispatch("apply",[this,t.concat(a(arguments))])}},L.keys=function(e){return L(e).dispatch("keys",[])},_.prototype.keys=function(){return this.dispatch("keys",[])},L.all=st,_.prototype.all=function(){return st(this)},L.allResolved=k(ot,"allResolved","allSettled"),_.prototype.allResolved=function(){return ot(this)},L.allSettled=ut,_.prototype.allSettled=function(){return this.then(function(e){return st(c(e,function(e){function t(){return e.inspect()}return e=L(e),e.then(t,t)}))})},L.fail=L["catch"]=function(e,t){return L(e).then(void 0,t)},_.prototype.fail=_.prototype["catch"]=function(e){return this.then(void 0,e)},L.progress=at,_.prototype.progress=function(e){return this.then(void 0,void 0,e)},L.fin=L["finally"]=function(e,t){return L(e)["finally"](t)},_.prototype.fin=_.prototype["finally"]=function(e){return e=L(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},L.done=function(e,t,n,r){return L(e).done(t,n,r)},_.prototype.done=function(e,t,n){var r=function(e){s(function(){E(e,i);if(!L.onerror)throw e;L.onerror(e)})},i=e||t||n?this.then(e,t,n):this;typeof process=="object"&&process&&process.domain&&(r=process.domain.bind(r)),i.then(void 0,r)},L.timeout=function(e,t,n){return L(e).timeout(t,n)},_.prototype.timeout=function(e,t){var n=A(),r=setTimeout(function(){n.reject(new Error(t||"Timed out after "+e+" ms"))},e);return this.then(function(e){clearTimeout(r),n.resolve(e)},function(e){clearTimeout(r),n.reject(e)},n.notify),n.promise},L.delay=function(e,t){return t===void 0&&(t=e,e=void 0),L(e).delay(t)},_.prototype.delay=function(e){return this.then(function(t){var n=A();return setTimeout(function(){n.resolve(t)},e),n.promise})},L.nfapply=function(e,t){return L(e).nfapply(t)},_.prototype.nfapply=function(e){var t=A(),n=a(e);return n.push(t.makeNodeResolver()),this.fapply(n).fail(t.reject),t.promise},L.nfcall=function(e){var t=a(arguments,1);return L(e).nfapply(t)},_.prototype.nfcall=function(){var e=a(arguments),t=A();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},L.nfbind=L.denodeify=function(e){var t=a(arguments,1);return function(){var n=t.concat(a(arguments)),r=A();return n.push(r.makeNodeResolver()),L(e).fapply(n).fail(r.reject),r.promise}},_.prototype.nfbind=_.prototype.denodeify=function(){var e=a(arguments);return e.unshift(this),L.denodeify.apply(void 0,e)},L.nbind=function(e,t){var n=a(arguments,2);return function(){function s(){return e.apply(t,arguments)}var r=n.concat(a(arguments)),i=A();return r.push(i.makeNodeResolver()),L(s).fapply(r).fail(i.reject),i.promise}},_.prototype.nbind=function(){var e=a(arguments,0);return e.unshift(this),L.nbind.apply(void 0,e)},L.nmapply=L.npost=function(e,t,n){return L(e).npost(t,n)},_.prototype.nmapply=_.prototype.npost=function(e,t){var n=a(t||[]),r=A();return n.push(r.makeNodeResolver()),this.dispatch("post",[e,n]).fail(r.reject),r.promise},L.nsend=L.nmcall=L.ninvoke=function(e,t){var n=a(arguments,2),r=A();return n.push(r.makeNodeResolver()),L(e).dispatch("post",[t,n]).fail(r.reject),r.promise},_.prototype.nsend=_.prototype.nmcall=_.prototype.ninvoke=function(e){var t=a(arguments,1),n=A();return t.push(n.makeNodeResolver()),this.dispatch("post",[e,t]).fail(n.reject),n.promise},L.nodeify=ft,_.prototype.nodeify=function(e){if(!e)return this;this.then(function(t){s(function(){e(null,t)})},function(t){s(function(){e(t)})})};var lt=C();return L}),n("services/PromiseService",["../../node_modules/q/q"],function(e){var t=function(t){var n;this._originalService=t,this.generatePromiseFunction=function(t){var n=this;return function(){var r=Array.prototype.slice.call(arguments),i=e.defer();if(t.length-1!==arguments.length)throw new EvalError("Wrong numner of arguments provided");return r.push(function(e,t){e?i.reject(e):i.resolve(t)}),t.apply(n._originalService,r),i.promise}};for(n in this._originalService)typeof this._originalService[n]=="function"&&Object.prototype.toString.call(this._originalService[n].toString().match(/^function\s*(new[^\s(]+Struct)/))!="[object Array]"&&(this[n]=this.generatePromiseFunction(this._originalService[n]))};return t}),n("PromiseCAPI",["CAPI","services/PromiseService"],function(e,t){var n=function(e){var n,r=this;this._capi=e,this.generatePromiseService=function(e){return function(){return new t(e.call(r._capi))}};for(n in this._capi)typeof this._capi[n]=="function"&&Object.prototype.toString.call(this._capi[n].toString().match(/^function\s*(get[^\s(]+Service)/))==="[object Array]"&&(this[n]=this.generatePromiseService(this._capi[n]))};return n}),window.eZ=window.eZ||{},window.eZ.HttpBasicAuthAgent=t("authAgents/HttpBasicAuthAgent"),window.eZ.SessionAuthAgent=t("authAgents/SessionAuthAgent"),window.eZ.CAPI=t("CAPI"),window.eZ.PromiseCAPI=t("PromiseCAPI")});